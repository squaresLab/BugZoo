#!/bin/bash
exe=$( dirname $1 )
test_id=$2
here_dir=$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )

#Check if coverage is being run. If so, don't use time limit.
if [ `basename $exe` = "coverage" ] ; then
  timeout=180
else
  timeout=90
fi

run_test()
{
    timeout $timeout $here_dir/test.pl $1
    return $?
}

case $test_id in
    p1) run_test 1 && exit 0 ;; 
    p2) run_test 2 && exit 0 ;; 
    p3) run_test 3 && exit 0 ;; 
    p4) run_test 4 && exit 0 ;; 
    p5) run_test 5 && exit 0 ;; 
    p6) run_test 6 && exit 0 ;; 
    p7) run_test 7 && exit 0 ;;
    p8) run_test 8 && exit 0 ;; 
    p9) run_test 9 && exit 0 ;; 
    p10) run_test 10 && exit 0 ;; 
    p11) run_test 11 && exit 0 ;; 
    p12) run_test 12 && exit 0 ;; 
    p13) run_test 13 && exit 0 ;; 
    p14) run_test 14 && exit 0 ;; 
    p15) run_test 16 && exit 0 ;; 
    p16) run_test 17 && exit 0 ;; 
    p17) run_test 18 && exit 0 ;; 
    p18) run_test 19 && exit 0 ;; 
    p19) run_test 20 && exit 0 ;; 
    p20) run_test 21 && exit 0 ;; 
    p21) run_test 22 && exit 0 ;; 
    p22) run_test 23 && exit 0 ;; 
    p23) run_test 24 && exit 0 ;; 
    p24) run_test 25 && exit 0 ;; 
    p25) run_test 26 && exit 0 ;; 
    p26) run_test 27 && exit 0 ;; 
    p27) run_test 28 && exit 0 ;; 
    p28) run_test 29 && exit 0 ;; 
    p29) run_test 30 && exit 0 ;; 
    p30) run_test 31 && exit 0 ;; 
    p31) run_test 33 && exit 0 ;; 
    p32) run_test 34 && exit 0 ;; 
    p33) run_test 35 && exit 0 ;; 
    p34) run_test 36 && exit 0 ;; 
    p35) run_test 37 && exit 0 ;; 
    p36) run_test 38 && exit 0 ;; 
    p37) run_test 39 && exit 0 ;; 
    p38) run_test 40 && exit 0 ;; 
    p39) run_test 41 && exit 0 ;; 
    p40) run_test 42 && exit 0 ;; 
    p41) run_test 43 && exit 0 ;; 
    p42) run_test 44 && exit 0 ;; 
    p43) run_test 45 && exit 0 ;; 
    p44) run_test 46 && exit 0 ;; 
    p45) run_test 47 && exit 0 ;; 
    p46) run_test 48 && exit 0 ;; 
    p47) run_test 49 && exit 0 ;; 
    p48) run_test 50 && exit 0 ;; 
    p49) run_test 51 && exit 0 ;; 
    p50) run_test 52 && exit 0 ;; 
    p51) run_test 53 && exit 0 ;; 
    p52) run_test 55 && exit 0 ;; 
    p53) run_test 56 && exit 0 ;; 
    p54) run_test 57 && exit 0 ;; 
    p55) run_test 58 && exit 0 ;; 
    p56) run_test 59 && exit 0 ;; 
    p57) run_test 60 && exit 0 ;; 
    p58) run_test 62 && exit 0 ;; 
    p59) run_test 64 && exit 0 ;; 
    p60) run_test 65 && exit 0 ;; 
    p61) run_test 66 && exit 0 ;; 
    p62) run_test 67 && exit 0 ;; 
    p63) run_test 68 && exit 0 ;; 
    p64) run_test 69 && exit 0 ;; 
    p65) run_test 70 && exit 0 ;; 
    p66) run_test 72 && exit 0 ;; 
    p67) run_test 73 && exit 0 ;; 
    p68) run_test 74 && exit 0 ;; 
    p69) run_test 75 && exit 0 ;; 
    p70) run_test 77 && exit 0 ;; 
    p71) run_test 78 && exit 0 ;; 
    p72) run_test 79 && exit 0 ;; 
    p73) run_test 81 && exit 0 ;; 
    p74) run_test 82 && exit 0 ;; 
    p75) run_test 83 && exit 0 ;; 
    p76) run_test 84 && exit 0 ;; 
    p77) run_test 85 && exit 0 ;; 
    p78) run_test 86 && exit 0 ;; 
    p79) run_test 87 && exit 0 ;; 
    p80) run_test 88 && exit 0 ;; 
    p81) run_test 89 && exit 0 ;; 
    p82) run_test 90 && exit 0 ;; 
    p83) run_test 92 && exit 0 ;; 
    p84) run_test 93 && exit 0 ;; 
    p85) run_test 94 && exit 0 ;; 
    p86) run_test 95 && exit 0 ;; 
    p87) run_test 96 && exit 0 ;; 
    p88) run_test 97 && exit 0 ;; 
    p89) run_test 99 && exit 0 ;; 
    p90) run_test 100 && exit 0 ;; 
    p91) run_test 101 && exit 0 ;; 
    p92) run_test 102 && exit 0 ;; 
    p93) run_test 103 && exit 0 ;; 
    p94) run_test 104 && exit 0 ;; 
    p95) run_test 105 && exit 0 ;; 
    p96) run_test 106 && exit 0 ;; 
    p97) run_test 107 && exit 0 ;; 
    p98) run_test 108 && exit 0 ;; 
    p99) run_test 109 && exit 0 ;; 
    p100) run_test 112 && exit 0 ;; 
    p101) run_test 113 && exit 0 ;; 
    p102) run_test 114 && exit 0 ;; 
    p103) run_test 115 && exit 0 ;; 
    p104) run_test 116 && exit 0 ;; 
    p105) run_test 117 && exit 0 ;; 
    p106) run_test 118 && exit 0 ;; 
    p107) run_test 119 && exit 0 ;; 
    p108) run_test 120 && exit 0 ;; 
    p109) run_test 121 && exit 0 ;; 
    p110) run_test 122 && exit 0 ;; 
    p111) run_test 123 && exit 0 ;; 
    p112) run_test 124 && exit 0 ;; 
    p113) run_test 125 && exit 0 ;; 
    p114) run_test 126 && exit 0 ;; 
    p115) run_test 127 && exit 0 ;; 
    p116) run_test 128 && exit 0 ;; 
    p117) run_test 129 && exit 0 ;; 
    p118) run_test 131 && exit 0 ;; 
    p119) run_test 132 && exit 0 ;; 
    p120) run_test 133 && exit 0 ;; 
    p121) run_test 134 && exit 0 ;; 
    p122) run_test 135 && exit 0 ;; 
    p123) run_test 136 && exit 0 ;; 
    p124) run_test 137 && exit 0 ;; 
    p125) run_test 139 && exit 0 ;; 
    p126) run_test 140 && exit 0 ;; 
    p127) run_test 142 && exit 0 ;; 
    p128) run_test 143 && exit 0 ;; 
    p129) run_test 144 && exit 0 ;; 
    p130) run_test 145 && exit 0 ;; 
    p131) run_test 146 && exit 0 ;; 
    p132) run_test 147 && exit 0 ;; 
    p133) run_test 149 && exit 0 ;; 
    p134) run_test 150 && exit 0 ;; 
    p135) run_test 151 && exit 0 ;; 
    p136) run_test 152 && exit 0 ;; 
    p137) run_test 153 && exit 0 ;; 
    p138) run_test 155 && exit 0 ;; 
    p139) run_test 156 && exit 0 ;; 
    p140) run_test 157 && exit 0 ;; 
    p141) run_test 158 && exit 0 ;; 
    p142) run_test 159 && exit 0 ;; 
    p143) run_test 160 && exit 0 ;; 
    p144) run_test 161 && exit 0 ;; 
    p145) run_test 162 && exit 0 ;; 
    p146) run_test 163 && exit 0 ;; 
    p147) run_test 164 && exit 0 ;; 
    p148) run_test 166 && exit 0 ;; 
    p149) run_test 168 && exit 0 ;; 
    p150) run_test 169 && exit 0 ;; 
    p151) run_test 170 && exit 0 ;; 
    p152) run_test 171 && exit 0 ;; 
    p153) run_test 172 && exit 0 ;; 
    p154) run_test 173 && exit 0 ;; 
    p155) run_test 174 && exit 0 ;; 
    p156) run_test 175 && exit 0 ;; 
    p157) run_test 176 && exit 0 ;; 
    p158) run_test 177 && exit 0 ;; 
    p159) run_test 179 && exit 0 ;; 
    p160) run_test 180 && exit 0 ;; 
    p161) run_test 181 && exit 0 ;; 
    p162) run_test 182 && exit 0 ;; 
    p163) run_test 183 && exit 0 ;; 
    p164) run_test 184 && exit 0 ;; 
    p165) run_test 185 && exit 0 ;; 
    p166) run_test 186 && exit 0 ;; 
    p167) run_test 187 && exit 0 ;; 
    p168) run_test 188 && exit 0 ;; 
    p169) run_test 189 && exit 0 ;; 
    p170) run_test 190 && exit 0 ;; 
    p171) run_test 192 && exit 0 ;; 
    p172) run_test 193 && exit 0 ;; 
    p173) run_test 195 && exit 0 ;; 
    p174) run_test 196 && exit 0 ;; 
    p175) run_test 197 && exit 0 ;; 
    p176) run_test 198 && exit 0 ;; 
    p177) run_test 199 && exit 0 ;; 
    p178) run_test 200 && exit 0 ;; 
    p179) run_test 201 && exit 0 ;; 
    p180) run_test 202 && exit 0 ;; 
    p181) run_test 203 && exit 0 ;; 
    p182) run_test 204 && exit 0 ;; 
    p183) run_test 205 && exit 0 ;; 
    p184) run_test 206 && exit 0 ;; 
    p185) run_test 207 && exit 0 ;; 
    p186) run_test 208 && exit 0 ;; 
    p187) run_test 209 && exit 0 ;; 
    p188) run_test 210 && exit 0 ;; 
    p189) run_test 211 && exit 0 ;; 
    p190) run_test 212 && exit 0 ;; 
    p191) run_test 213 && exit 0 ;; 
    p192) run_test 214 && exit 0 ;; 
    p193) run_test 215 && exit 0 ;; 
    p194) run_test 216 && exit 0 ;; 
    p195) run_test 217 && exit 0 ;; 
    p196) run_test 218 && exit 0 ;; 
    p197) run_test 219 && exit 0 ;; 
    p198) run_test 220 && exit 0 ;; 
    p199) run_test 221 && exit 0 ;; 
    p200) run_test 222 && exit 0 ;; 
    p201) run_test 223 && exit 0 ;; 
    p202) run_test 224 && exit 0 ;; 
    p203) run_test 226 && exit 0 ;; 
    p204) run_test 227 && exit 0 ;; 
    p205) run_test 228 && exit 0 ;; 
    p206) run_test 229 && exit 0 ;; 
    p207) run_test 230 && exit 0 ;; 
    p208) run_test 231 && exit 0 ;; 
    p209) run_test 232 && exit 0 ;; 
    p210) run_test 233 && exit 0 ;; 
    p211) run_test 234 && exit 0 ;; 
    p212) run_test 235 && exit 0 ;; 
    p213) run_test 236 && exit 0 ;; 
    p214) run_test 237 && exit 0 ;; 
    p215) run_test 238 && exit 0 ;; 
    p216) run_test 239 && exit 0 ;; 
    p217) run_test 240 && exit 0 ;; 
    p218) run_test 241 && exit 0 ;; 
    p219) run_test 242 && exit 0 ;; 
    p220) run_test 243 && exit 0 ;; 
    p221) run_test 244 && exit 0 ;; 
    p222) run_test 245 && exit 0 ;; 
    p223) run_test 246 && exit 0 ;; 
    p224) run_test 247 && exit 0 ;; 
    p225) run_test 248 && exit 0 ;; 
    p226) run_test 250 && exit 0 ;; 
    p227) run_test 251 && exit 0 ;; 
    p228) run_test 252 && exit 0 ;; 
    p229) run_test 253 && exit 0 ;; 
    p230) run_test 254 && exit 0 ;; 
    p231) run_test 255 && exit 0 ;; 
    p232) run_test 256 && exit 0 ;; 
    p233) run_test 257 && exit 0 ;; 
    p234) run_test 259 && exit 0 ;; 
    p235) run_test 260 && exit 0 ;; 
    p236) run_test 261 && exit 0 ;; 
    p237) run_test 262 && exit 0 ;; 
    p238) run_test 263 && exit 0 ;; 
    p239) run_test 264 && exit 0 ;; 
    p240) run_test 265 && exit 0 ;; 
    p241) run_test 266 && exit 0 ;; 
    p242) run_test 267 && exit 0 ;; 
    p243) run_test 269 && exit 0 ;; 
    p244) run_test 270 && exit 0 ;; 
    p245) run_test 271 && exit 0 ;; 
    p246) run_test 272 && exit 0 ;; 
    p247) run_test 273 && exit 0 ;; 
    p248) run_test 274 && exit 0 ;; 
    p249) run_test 275 && exit 0 ;; 
    p250) run_test 276 && exit 0 ;; 
    p251) run_test 278 && exit 0 ;; 
    p252) run_test 279 && exit 0 ;; 
    p253) run_test 280 && exit 0 ;; 
    p254) run_test 281 && exit 0 ;; 
    p255) run_test 282 && exit 0 ;; 
    p256) run_test 283 && exit 0 ;; 
    p257) run_test 285 && exit 0 ;; 
    p258) run_test 286 && exit 0 ;; 
    p259) run_test 287 && exit 0 ;; 
    p260) run_test 290 && exit 0 ;; 
    p261) run_test 291 && exit 0 ;; 
    p262) run_test 292 && exit 0 ;; 
    p263) run_test 293 && exit 0 ;; 
    p264) run_test 294 && exit 0 ;; 
    p265) run_test 295 && exit 0 ;; 
    p266) run_test 296 && exit 0 ;; 
    p267) run_test 297 && exit 0 ;; 
    p268) run_test 299 && exit 0 ;; 
    p269) run_test 300 && exit 0 ;; 
    p270) run_test 301 && exit 0 ;; 
    p271) run_test 302 && exit 0 ;; 
    p272) run_test 303 && exit 0 ;; 
    p273) run_test 304 && exit 0 ;; 
    p274) run_test 306 && exit 0 ;; 
    p275) run_test 307 && exit 0 ;; 
    p276) run_test 308 && exit 0 ;; 
    p277) run_test 309 && exit 0 ;; 
    p278) run_test 312 && exit 0 ;; 
    p279) run_test 313 && exit 0 ;; 
    p280) run_test 314 && exit 0 ;; 
    p281) run_test 315 && exit 0 ;; 
    p282) run_test 316 && exit 0 ;; 
    p283) run_test 317 && exit 0 ;; 
    p284) run_test 318 && exit 0 ;; 
    p285) run_test 320 && exit 0 ;; 
    p286) run_test 321 && exit 0 ;; 
    p287) run_test 322 && exit 0 ;; 
    p288) run_test 323 && exit 0 ;; 
    p289) run_test 324 && exit 0 ;; 
    p290) run_test 325 && exit 0 ;; 
    p291) run_test 326 && exit 0 ;; 
    p292) run_test 327 && exit 0 ;; 
    n1) run_test 194 && exit 0 ;; 
esac
exit 1
