#!/bin/bash
bugrev=5556
time_limit=12

#Check if coverage is being run. If so, don't use time limit.
if [ `basename $2` = "coverage" ] ; then
    cov=0
else
    cov=1
fi

run_test()
{
    cd fbc/tests
    if [ $cov -eq 0 ] ; then
        perl -e 'exec @ARGV' perl ..//..//fbc-run-tests.pl $1
    else
        perl -e 'alarm shift @ARGV; exec @ARGV' $time_limit perl ..//..//fbc-run-tests.pl $1
    fi
    RESULT=$?
    cd ../../
    return $RESULT
}

case $1 in
    p1) run_test 1 && exit 0 ;; 
    p2) run_test 2 && exit 0 ;; 
    p3) run_test 3 && exit 0 ;; 
    p4) run_test 4 && exit 0 ;; 
    p5) run_test 5 && exit 0 ;; 
    p6) run_test 6 && exit 0 ;; 
    p7) run_test 7 && exit 0 ;; 
    p8) run_test 8 && exit 0 ;; 
    p9) run_test 9 && exit 0 ;; 
    p10) run_test 10 && exit 0 ;; 
    p11) run_test 11 && exit 0 ;; 
    p12) run_test 12 && exit 0 ;; 
    p13) run_test 13 && exit 0 ;; 
    p14) run_test 14 && exit 0 ;; 
    p15) run_test 17 && exit 0 ;; 
    p16) run_test 18 && exit 0 ;; 
    p17) run_test 19 && exit 0 ;; 
    p18) run_test 20 && exit 0 ;; 
    p19) run_test 21 && exit 0 ;; 
    p20) run_test 22 && exit 0 ;; 
    p21) run_test 23 && exit 0 ;; 
    p22) run_test 24 && exit 0 ;; 
    p23) run_test 25 && exit 0 ;; 
    p24) run_test 27 && exit 0 ;; 
    p25) run_test 28 && exit 0 ;; 
    p26) run_test 29 && exit 0 ;; 
    p27) run_test 30 && exit 0 ;; 
    p28) run_test 31 && exit 0 ;; 
    p29) run_test 32 && exit 0 ;; 
    p30) run_test 33 && exit 0 ;; 
    p31) run_test 34 && exit 0 ;; 
    p32) run_test 35 && exit 0 ;; 
    p33) run_test 36 && exit 0 ;; 
    p34) run_test 37 && exit 0 ;; 
    p35) run_test 38 && exit 0 ;; 
    p36) run_test 39 && exit 0 ;; 
    p37) run_test 40 && exit 0 ;; 
    p38) run_test 41 && exit 0 ;; 
    p39) run_test 42 && exit 0 ;; 
    p40) run_test 43 && exit 0 ;; 
    p41) run_test 44 && exit 0 ;; 
    p42) run_test 45 && exit 0 ;; 
    p43) run_test 46 && exit 0 ;; 
    p44) run_test 47 && exit 0 ;; 
    p45) run_test 48 && exit 0 ;; 
    p46) run_test 49 && exit 0 ;; 
    p47) run_test 50 && exit 0 ;; 
    p48) run_test 51 && exit 0 ;; 
    p49) run_test 52 && exit 0 ;; 
    p50) run_test 53 && exit 0 ;; 
    p51) run_test 54 && exit 0 ;; 
    p52) run_test 55 && exit 0 ;; 
    p53) run_test 56 && exit 0 ;; 
    p54) run_test 57 && exit 0 ;; 
    p55) run_test 58 && exit 0 ;; 
    p56) run_test 59 && exit 0 ;; 
    p57) run_test 61 && exit 0 ;; 
    p58) run_test 62 && exit 0 ;; 
    p59) run_test 63 && exit 0 ;; 
    p60) run_test 64 && exit 0 ;; 
    p61) run_test 65 && exit 0 ;; 
    p62) run_test 66 && exit 0 ;; 
    p63) run_test 67 && exit 0 ;; 
    p64) run_test 68 && exit 0 ;; 
    p65) run_test 69 && exit 0 ;; 
    p66) run_test 70 && exit 0 ;; 
    p67) run_test 71 && exit 0 ;; 
    p68) run_test 72 && exit 0 ;; 
    p69) run_test 73 && exit 0 ;; 
    p70) run_test 74 && exit 0 ;; 
    p71) run_test 75 && exit 0 ;; 
    p72) run_test 76 && exit 0 ;; 
    p73) run_test 77 && exit 0 ;; 
    p74) run_test 78 && exit 0 ;; 
    p75) run_test 79 && exit 0 ;; 
    p76) run_test 80 && exit 0 ;; 
    p77) run_test 81 && exit 0 ;; 
    p78) run_test 82 && exit 0 ;; 
    p79) run_test 83 && exit 0 ;; 
    p80) run_test 84 && exit 0 ;; 
    p81) run_test 85 && exit 0 ;; 
    p82) run_test 86 && exit 0 ;; 
    p83) run_test 87 && exit 0 ;; 
    p84) run_test 88 && exit 0 ;; 
    p85) run_test 89 && exit 0 ;; 
    p86) run_test 90 && exit 0 ;; 
    p87) run_test 91 && exit 0 ;; 
    p88) run_test 92 && exit 0 ;; 
    p89) run_test 93 && exit 0 ;; 
    p90) run_test 95 && exit 0 ;; 
    p91) run_test 96 && exit 0 ;; 
    p92) run_test 97 && exit 0 ;; 
    p93) run_test 98 && exit 0 ;; 
    p94) run_test 99 && exit 0 ;; 
    p95) run_test 100 && exit 0 ;; 
    p96) run_test 101 && exit 0 ;; 
    p97) run_test 102 && exit 0 ;; 
    p98) run_test 103 && exit 0 ;; 
    p99) run_test 104 && exit 0 ;; 
    p100) run_test 105 && exit 0 ;; 
    p101) run_test 106 && exit 0 ;; 
    p102) run_test 107 && exit 0 ;; 
    p103) run_test 108 && exit 0 ;; 
    p104) run_test 109 && exit 0 ;; 
    p105) run_test 110 && exit 0 ;; 
    p106) run_test 111 && exit 0 ;; 
    p107) run_test 112 && exit 0 ;; 
    p108) run_test 113 && exit 0 ;; 
    p109) run_test 114 && exit 0 ;; 
    p110) run_test 115 && exit 0 ;; 
    p111) run_test 116 && exit 0 ;; 
    p112) run_test 117 && exit 0 ;; 
    p113) run_test 118 && exit 0 ;; 
    p114) run_test 119 && exit 0 ;; 
    p115) run_test 120 && exit 0 ;; 
    p116) run_test 121 && exit 0 ;; 
    p117) run_test 122 && exit 0 ;; 
    p118) run_test 123 && exit 0 ;; 
    p119) run_test 124 && exit 0 ;; 
    p120) run_test 125 && exit 0 ;; 
    p121) run_test 126 && exit 0 ;; 
    p122) run_test 127 && exit 0 ;; 
    p123) run_test 128 && exit 0 ;; 
    p124) run_test 129 && exit 0 ;; 
    p125) run_test 130 && exit 0 ;; 
    p126) run_test 131 && exit 0 ;; 
    p127) run_test 132 && exit 0 ;; 
    p128) run_test 133 && exit 0 ;; 
    p129) run_test 134 && exit 0 ;; 
    p130) run_test 135 && exit 0 ;; 
    p131) run_test 136 && exit 0 ;; 
    p132) run_test 137 && exit 0 ;; 
    p133) run_test 138 && exit 0 ;; 
    p134) run_test 139 && exit 0 ;; 
    p135) run_test 140 && exit 0 ;; 
    p136) run_test 141 && exit 0 ;; 
    p137) run_test 142 && exit 0 ;; 
    p138) run_test 143 && exit 0 ;; 
    p139) run_test 144 && exit 0 ;; 
    p140) run_test 145 && exit 0 ;; 
    p141) run_test 146 && exit 0 ;; 
    p142) run_test 147 && exit 0 ;; 
    p143) run_test 148 && exit 0 ;; 
    p144) run_test 149 && exit 0 ;; 
    p145) run_test 150 && exit 0 ;; 
    p146) run_test 152 && exit 0 ;; 
    p147) run_test 153 && exit 0 ;; 
    p148) run_test 154 && exit 0 ;; 
    p149) run_test 155 && exit 0 ;; 
    p150) run_test 156 && exit 0 ;; 
    p151) run_test 157 && exit 0 ;; 
    p152) run_test 158 && exit 0 ;; 
    p153) run_test 159 && exit 0 ;; 
    p154) run_test 160 && exit 0 ;; 
    p155) run_test 161 && exit 0 ;; 
    p156) run_test 162 && exit 0 ;; 
    p157) run_test 163 && exit 0 ;; 
    p158) run_test 164 && exit 0 ;; 
    p159) run_test 166 && exit 0 ;; 
    p160) run_test 167 && exit 0 ;; 
    p161) run_test 168 && exit 0 ;; 
    p162) run_test 169 && exit 0 ;; 
    p163) run_test 170 && exit 0 ;; 
    p164) run_test 171 && exit 0 ;; 
    p165) run_test 172 && exit 0 ;; 
    p166) run_test 173 && exit 0 ;; 
    p167) run_test 174 && exit 0 ;; 
    p168) run_test 175 && exit 0 ;; 
    p169) run_test 176 && exit 0 ;; 
    p170) run_test 177 && exit 0 ;; 
    p171) run_test 178 && exit 0 ;; 
    p172) run_test 179 && exit 0 ;; 
    p173) run_test 180 && exit 0 ;; 
    p174) run_test 181 && exit 0 ;; 
    p175) run_test 182 && exit 0 ;; 
    p176) run_test 183 && exit 0 ;; 
    p177) run_test 184 && exit 0 ;; 
    p178) run_test 185 && exit 0 ;; 
    p179) run_test 186 && exit 0 ;; 
    p180) run_test 187 && exit 0 ;; 
    p181) run_test 188 && exit 0 ;; 
    p182) run_test 189 && exit 0 ;; 
    p183) run_test 190 && exit 0 ;; 
    p184) run_test 191 && exit 0 ;; 
    p185) run_test 192 && exit 0 ;; 
    p186) run_test 193 && exit 0 ;; 
    p187) run_test 194 && exit 0 ;; 
    p188) run_test 195 && exit 0 ;; 
    p189) run_test 196 && exit 0 ;; 
    p190) run_test 197 && exit 0 ;; 
    p191) run_test 198 && exit 0 ;; 
    p192) run_test 199 && exit 0 ;; 
    p193) run_test 200 && exit 0 ;; 
    p194) run_test 201 && exit 0 ;; 
    p195) run_test 202 && exit 0 ;; 
    p196) run_test 203 && exit 0 ;; 
    p197) run_test 204 && exit 0 ;; 
    p198) run_test 205 && exit 0 ;; 
    p199) run_test 206 && exit 0 ;; 
    p200) run_test 207 && exit 0 ;; 
    p201) run_test 208 && exit 0 ;; 
    p202) run_test 209 && exit 0 ;; 
    p203) run_test 210 && exit 0 ;; 
    p204) run_test 211 && exit 0 ;; 
    p205) run_test 212 && exit 0 ;; 
    p206) run_test 213 && exit 0 ;; 
    p207) run_test 214 && exit 0 ;; 
    p208) run_test 215 && exit 0 ;; 
    p209) run_test 216 && exit 0 ;; 
    p210) run_test 217 && exit 0 ;; 
    p211) run_test 218 && exit 0 ;; 
    p212) run_test 219 && exit 0 ;; 
    p213) run_test 220 && exit 0 ;; 
    p214) run_test 221 && exit 0 ;; 
    p215) run_test 222 && exit 0 ;; 
    p216) run_test 223 && exit 0 ;; 
    p217) run_test 224 && exit 0 ;; 
    p218) run_test 225 && exit 0 ;; 
    p219) run_test 226 && exit 0 ;; 
    p220) run_test 227 && exit 0 ;; 
    p221) run_test 228 && exit 0 ;; 
    p222) run_test 229 && exit 0 ;; 
    p223) run_test 230 && exit 0 ;; 
    p224) run_test 231 && exit 0 ;; 
    p225) run_test 232 && exit 0 ;; 
    p226) run_test 233 && exit 0 ;; 
    p227) run_test 234 && exit 0 ;; 
    p228) run_test 235 && exit 0 ;; 
    p229) run_test 236 && exit 0 ;; 
    p230) run_test 237 && exit 0 ;; 
    p231) run_test 238 && exit 0 ;; 
    p232) run_test 239 && exit 0 ;; 
    p233) run_test 240 && exit 0 ;; 
    p234) run_test 241 && exit 0 ;; 
    p235) run_test 242 && exit 0 ;; 
    p236) run_test 244 && exit 0 ;; 
    p237) run_test 245 && exit 0 ;; 
    p238) run_test 246 && exit 0 ;; 
    p239) run_test 247 && exit 0 ;; 
    p240) run_test 248 && exit 0 ;; 
    p241) run_test 249 && exit 0 ;; 
    p242) run_test 250 && exit 0 ;; 
    p243) run_test 251 && exit 0 ;; 
    p244) run_test 252 && exit 0 ;; 
    p245) run_test 254 && exit 0 ;; 
    p246) run_test 255 && exit 0 ;; 
    p247) run_test 256 && exit 0 ;; 
    p248) run_test 257 && exit 0 ;; 
    p249) run_test 258 && exit 0 ;; 
    p250) run_test 259 && exit 0 ;; 
    p251) run_test 260 && exit 0 ;; 
    p252) run_test 261 && exit 0 ;; 
    p253) run_test 262 && exit 0 ;; 
    p254) run_test 263 && exit 0 ;; 
    p255) run_test 264 && exit 0 ;; 
    p256) run_test 265 && exit 0 ;; 
    p257) run_test 266 && exit 0 ;; 
    p258) run_test 267 && exit 0 ;; 
    p259) run_test 268 && exit 0 ;; 
    p260) run_test 269 && exit 0 ;; 
    p261) run_test 270 && exit 0 ;; 
    p262) run_test 271 && exit 0 ;; 
    p263) run_test 272 && exit 0 ;; 
    p264) run_test 273 && exit 0 ;; 
    p265) run_test 274 && exit 0 ;; 
    p266) run_test 275 && exit 0 ;; 
    p267) run_test 276 && exit 0 ;; 
    p268) run_test 277 && exit 0 ;; 
    p269) run_test 278 && exit 0 ;; 
    p270) run_test 279 && exit 0 ;; 
    p271) run_test 280 && exit 0 ;; 
    p272) run_test 281 && exit 0 ;; 
    p273) run_test 282 && exit 0 ;; 
    p274) run_test 283 && exit 0 ;; 
    p275) run_test 284 && exit 0 ;; 
    p276) run_test 285 && exit 0 ;; 
    p277) run_test 286 && exit 0 ;; 
    p278) run_test 287 && exit 0 ;; 
    p279) run_test 288 && exit 0 ;; 
    p280) run_test 289 && exit 0 ;; 
    p281) run_test 290 && exit 0 ;; 
    p282) run_test 291 && exit 0 ;; 
    p283) run_test 292 && exit 0 ;; 
    p284) run_test 293 && exit 0 ;; 
    p285) run_test 294 && exit 0 ;; 
    p286) run_test 295 && exit 0 ;; 
    p287) run_test 296 && exit 0 ;; 
    p288) run_test 297 && exit 0 ;; 
    p289) run_test 298 && exit 0 ;; 
    p290) run_test 299 && exit 0 ;; 
    p291) run_test 300 && exit 0 ;; 
    p292) run_test 301 && exit 0 ;; 
    p293) run_test 302 && exit 0 ;; 
    p294) run_test 303 && exit 0 ;; 
    p295) run_test 304 && exit 0 ;; 
    p296) run_test 305 && exit 0 ;; 
    p297) run_test 306 && exit 0 ;; 
    p298) run_test 307 && exit 0 ;; 
    p299) run_test 308 && exit 0 ;; 
    p300) run_test 309 && exit 0 ;; 
    p301) run_test 310 && exit 0 ;; 
    p302) run_test 311 && exit 0 ;; 
    p303) run_test 312 && exit 0 ;; 
    p304) run_test 313 && exit 0 ;; 
    p305) run_test 314 && exit 0 ;; 
    p306) run_test 315 && exit 0 ;; 
    p307) run_test 316 && exit 0 ;; 
    p308) run_test 317 && exit 0 ;; 
    p309) run_test 318 && exit 0 ;; 
    p310) run_test 319 && exit 0 ;; 
    p311) run_test 320 && exit 0 ;; 
    p312) run_test 321 && exit 0 ;; 
    p313) run_test 322 && exit 0 ;; 
    p314) run_test 323 && exit 0 ;; 
    p315) run_test 324 && exit 0 ;; 
    p316) run_test 325 && exit 0 ;; 
    p317) run_test 326 && exit 0 ;; 
    p318) run_test 327 && exit 0 ;; 
    p319) run_test 328 && exit 0 ;; 
    p320) run_test 329 && exit 0 ;; 
    p321) run_test 330 && exit 0 ;; 
    p322) run_test 331 && exit 0 ;; 
    p323) run_test 332 && exit 0 ;; 
    p324) run_test 333 && exit 0 ;; 
    p325) run_test 334 && exit 0 ;; 
    p326) run_test 335 && exit 0 ;; 
    p327) run_test 336 && exit 0 ;; 
    p328) run_test 337 && exit 0 ;; 
    p329) run_test 338 && exit 0 ;; 
    p330) run_test 339 && exit 0 ;; 
    p331) run_test 341 && exit 0 ;; 
    p332) run_test 342 && exit 0 ;; 
    p333) run_test 343 && exit 0 ;; 
    p334) run_test 344 && exit 0 ;; 
    p335) run_test 345 && exit 0 ;; 
    p336) run_test 346 && exit 0 ;; 
    p337) run_test 347 && exit 0 ;; 
    p338) run_test 348 && exit 0 ;; 
    p339) run_test 349 && exit 0 ;; 
    p340) run_test 350 && exit 0 ;; 
    p341) run_test 351 && exit 0 ;; 
    p342) run_test 352 && exit 0 ;; 
    p343) run_test 353 && exit 0 ;; 
    p344) run_test 354 && exit 0 ;; 
    p345) run_test 355 && exit 0 ;; 
    p346) run_test 356 && exit 0 ;; 
    p347) run_test 357 && exit 0 ;; 
    p348) run_test 358 && exit 0 ;; 
    p349) run_test 359 && exit 0 ;; 
    p350) run_test 360 && exit 0 ;; 
    p351) run_test 361 && exit 0 ;; 
    p352) run_test 362 && exit 0 ;; 
    p353) run_test 363 && exit 0 ;; 
    p354) run_test 364 && exit 0 ;; 
    p355) run_test 365 && exit 0 ;; 
    p356) run_test 366 && exit 0 ;; 
    p357) run_test 367 && exit 0 ;; 
    p358) run_test 368 && exit 0 ;; 
    p359) run_test 369 && exit 0 ;; 
    p360) run_test 370 && exit 0 ;; 
    p361) run_test 371 && exit 0 ;; 
    p362) run_test 372 && exit 0 ;; 
    p363) run_test 373 && exit 0 ;; 
    p364) run_test 374 && exit 0 ;; 
    p365) run_test 375 && exit 0 ;; 
    p366) run_test 376 && exit 0 ;; 
    p367) run_test 377 && exit 0 ;; 
    p368) run_test 378 && exit 0 ;; 
    p369) run_test 379 && exit 0 ;; 
    p370) run_test 380 && exit 0 ;; 
    p371) run_test 381 && exit 0 ;; 
    p372) run_test 382 && exit 0 ;; 
    p373) run_test 383 && exit 0 ;; 
    p374) run_test 384 && exit 0 ;; 
    p375) run_test 385 && exit 0 ;; 
    p376) run_test 386 && exit 0 ;; 
    p377) run_test 387 && exit 0 ;; 
    p378) run_test 388 && exit 0 ;; 
    p379) run_test 389 && exit 0 ;; 
    p380) run_test 390 && exit 0 ;; 
    p381) run_test 391 && exit 0 ;; 
    p382) run_test 392 && exit 0 ;; 
    p383) run_test 393 && exit 0 ;; 
    p384) run_test 394 && exit 0 ;; 
    p385) run_test 395 && exit 0 ;; 
    p386) run_test 396 && exit 0 ;; 
    p387) run_test 397 && exit 0 ;; 
    p388) run_test 398 && exit 0 ;; 
    p389) run_test 399 && exit 0 ;; 
    p390) run_test 400 && exit 0 ;; 
    p391) run_test 401 && exit 0 ;; 
    p392) run_test 402 && exit 0 ;; 
    p393) run_test 403 && exit 0 ;; 
    p394) run_test 404 && exit 0 ;; 
    p395) run_test 405 && exit 0 ;; 
    p396) run_test 406 && exit 0 ;; 
    p397) run_test 407 && exit 0 ;; 
    p398) run_test 408 && exit 0 ;; 
    p399) run_test 409 && exit 0 ;; 
    p400) run_test 410 && exit 0 ;; 
    p401) run_test 411 && exit 0 ;; 
    p402) run_test 412 && exit 0 ;; 
    p403) run_test 413 && exit 0 ;; 
    p404) run_test 414 && exit 0 ;; 
    p405) run_test 415 && exit 0 ;; 
    p406) run_test 416 && exit 0 ;; 
    p407) run_test 417 && exit 0 ;; 
    p408) run_test 418 && exit 0 ;; 
    p409) run_test 419 && exit 0 ;; 
    p410) run_test 420 && exit 0 ;; 
    p411) run_test 421 && exit 0 ;; 
    p412) run_test 422 && exit 0 ;; 
    p413) run_test 423 && exit 0 ;; 
    p414) run_test 424 && exit 0 ;; 
    p415) run_test 425 && exit 0 ;; 
    p416) run_test 426 && exit 0 ;; 
    p417) run_test 427 && exit 0 ;; 
    p418) run_test 428 && exit 0 ;; 
    p419) run_test 429 && exit 0 ;; 
    p420) run_test 430 && exit 0 ;; 
    p421) run_test 431 && exit 0 ;; 
    p422) run_test 432 && exit 0 ;; 
    p423) run_test 433 && exit 0 ;; 
    p424) run_test 434 && exit 0 ;; 
    p425) run_test 435 && exit 0 ;; 
    p426) run_test 436 && exit 0 ;; 
    p427) run_test 437 && exit 0 ;; 
    p428) run_test 438 && exit 0 ;; 
    p429) run_test 439 && exit 0 ;; 
    p430) run_test 440 && exit 0 ;; 
    p431) run_test 441 && exit 0 ;; 
    p432) run_test 442 && exit 0 ;; 
    p433) run_test 443 && exit 0 ;; 
    p434) run_test 444 && exit 0 ;; 
    p435) run_test 445 && exit 0 ;; 
    p436) run_test 446 && exit 0 ;; 
    p437) run_test 447 && exit 0 ;; 
    p438) run_test 448 && exit 0 ;; 
    p439) run_test 449 && exit 0 ;; 
    p440) run_test 450 && exit 0 ;; 
    p441) run_test 451 && exit 0 ;; 
    p442) run_test 452 && exit 0 ;; 
    p443) run_test 453 && exit 0 ;; 
    p444) run_test 454 && exit 0 ;; 
    p445) run_test 455 && exit 0 ;; 
    p446) run_test 456 && exit 0 ;; 
    p447) run_test 457 && exit 0 ;; 
    p448) run_test 458 && exit 0 ;; 
    p449) run_test 459 && exit 0 ;; 
    p450) run_test 460 && exit 0 ;; 
    p451) run_test 461 && exit 0 ;; 
    p452) run_test 462 && exit 0 ;; 
    p453) run_test 463 && exit 0 ;; 
    p454) run_test 464 && exit 0 ;; 
    p455) run_test 465 && exit 0 ;; 
    p456) run_test 466 && exit 0 ;; 
    p457) run_test 467 && exit 0 ;; 
    p458) run_test 468 && exit 0 ;; 
    p459) run_test 469 && exit 0 ;; 
    p460) run_test 470 && exit 0 ;; 
    p461) run_test 471 && exit 0 ;; 
    p462) run_test 472 && exit 0 ;; 
    p463) run_test 473 && exit 0 ;; 
    p464) run_test 475 && exit 0 ;; 
    p465) run_test 476 && exit 0 ;; 
    p466) run_test 477 && exit 0 ;; 
    p467) run_test 478 && exit 0 ;; 
    p468) run_test 479 && exit 0 ;; 
    p469) run_test 480 && exit 0 ;; 
    p470) run_test 481 && exit 0 ;; 
    p471) run_test 482 && exit 0 ;; 
    n1) run_test 474 && exit 0 ;; 

esac
exit 1
